$(document).ready(function(){var d=$("#send-registration"),a=$("#generate-link"),b=$("#remove-link"),f=$("#registration-link"),h=$("#registration-link-container"),g=$("#portal-access-success"),e=$("#portal-access-error");g.hide();e.hide();a.click(function(){g.hide();e.hide();a.prop("disabled",!0).html("Processing...");$.ajax({url:"/adminusers/AjaxGenerateRegistrationLink/"+userId,type:"post",dataType:"json",data:{CSRF_SESSION_TOKEN:CSRF_SESSION_TOKEN},cache:!1}).done(function(c){"success"===c.result?
(a.hide(),a.html("Grant Portal Access"),a.prop("disabled",!1),b.show(),hasEmail&&d.show(),f.val(c.registration),h.show()):"failed"===c.result&&c.message&&(a.html("Grant Portal Access"),e.html(c.message).show())})});b.click(function(){g.hide();e.hide();b.prop("disabled",!0).html("Removing...");$.ajax({url:"/adminusers/AjaxRemoveRegistrationLink/"+userId,type:"post",dataType:"json",data:{CSRF_SESSION_TOKEN:CSRF_SESSION_TOKEN},cache:!1}).done(function(c){"success"===c.result&&(b.hide(),b.html("Remove Pending Portal Access"),
b.prop("disabled",!1),a.show(),hasEmail&&d.hide(),h.hide(),f.val(""))})});f.on("click",function(){$(this).select()})});
function sendSignUp(){var d=$("#portal-access-success"),a=$("#portal-access-error");d.hide();a.hide();var b=$("#send-registration");b.prop("disabled",!0).html("Sending...");$.ajax({url:"/adminusers/sendsignup",type:"post",dataType:"json",cache:!1,data:{portalId:portalId,userId:userId,CSRF_SESSION_TOKEN:CSRF_SESSION_TOKEN}}).done(function(){b.prop("disabled",!1).html("Send Sign-up Email");d.html("Email sent.").show()})}function ItemSearchShow(){$("#item-search").toggle("fast","linear")}
function RelationshipSearchShow(){$("#relationship-search").toggle("fast","linear")};
