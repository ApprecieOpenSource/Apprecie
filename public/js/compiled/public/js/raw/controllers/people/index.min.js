$(document).ready(function(){$(".search-click").click(function(){peopleSearch(1)});$(".search-change").change(function(){peopleSearch(1)});peopleSearch(1);var c=null;$(".search-text-change").keyup(function(){clearTimeout(c);c=setTimeout(function(){peopleSearch(1)},700)})});
function peopleSearch(c){var f=$("#account-active").is(":checked"),g=$("#account-deactivated").is(":checked"),h=$("#account-pending").is(":checked"),d=$("#login-suspended").is(":checked"),e=$("#login-enabled").is(":checked"),k=$("#suggestions-only").is(":checked"),a=new SearchUsers;a.setAccountActive(f);a.setAccountDeactivated(g);a.setAccountPending(h);a.setPageNumber(c);a.setSuggestionsOnly(k);!0===d&&!0===e?a.setLogin("All"):!0===d&&0==e?a.setLogin("suspended"):0==d&&1==e&&a.setLogin("enabled");
a.setEmail($("#email").val());a.setName($("#name").val());a.setReference($("#reference").val());a.setRole($("#roleName").val());a.setGroup($("#groupId").val());$.when(a.fetch()).then(function(a){if("failed"==a.status)c='<tr><td colspan="8">'+a.message+"</td></tr>";else{var c="";$.each(a.items,function(a,b){c+="<tr><td>"+b.image+'</td><td class="hidden-xs"><a href="/people/viewuser/'+b.userid+'">'+b.profile.firstname+" "+b.profile.lastname+'</a></td><td><a href="/people/viewuser/'+b.userid+'">'+b.reference+
"</a></td><td>"+b.groups+"</td><td>"+b.organisation+'</td><td class="hidden-xs">'+b.profile.email+'</td><td class="hidden-xs">'+b.role+"</td><td>"+b.account+"</td><td>"+b.login+"</td><td>"+b.suggestedEvents+"</td></tr>"});Pagination(a,"peopleSearch",$("#user-search-pagination"))}$("#user-results").html(c)})};
