var EditPortal=function(h){clearErrors();var b=null,e=null,c=null,d=null,f=null,g=null,k=null,l=null,m=null,n=null;this.setSubSomain=function(a){b=a};this.setPortalName=function(a){e=a};this.setContactName=function(a){c=a};this.setTelephoneNumber=function(a){d=a};this.setMobileNumber=function(a){f=a};this.setEmailAddress=function(a){g=a};this.setAccountManager=function(a){l=a};this.setEdition=function(a){k=a};this.setEnabled=function(a){m=a};this.setAddressId=function(a){n=a};this.validate=function(){var a=
b.length;3>a||45<a?errors.push("The Portal Subdomain must be between and 3 and 45 characters long"):/^[a-zA-Z()0-9-]+$/.test(b)?(/^-/.test(b)||/-$/.test(b))&&errors.push("The Portal Subdomain cannot start or end with a dash"):errors.push("The Portal Subdomain can only contain characters from the ISO basic Latin alphabet and dashes");a=e.length;(3>a||45<a)&&errors.push("The Portal Name must be between and 3 and 45 characters long");a=c.length;0!=a&&" "!=c||errors.push("The contact name cannot be empty");
validateTelephoneNumber(d)||(console.log(d),errors.push("The telephone number is invalid"));validateTelephoneNumber(f)||errors.push("The mobile number is invalid");validateEmail(g)||errors.push("The email address is invalid");0==errors.length?$.when($.ajax({url:"/portals/AjaxUpdatePortal/"+h,type:"post",dataType:"json",data:{addressId:n,enabled:m,edition:k,accountManager:l,portalId:h,portalSubdomain:b,portalName:e,contactName:c,telephoneNumber:d,mobileNumber:f,emailAddress:g}})).then(function(a){"success"==
a.status?displaySuccess(a.message):(errors.push(a.message[0]),displayErrors())}):displayErrors()}};
