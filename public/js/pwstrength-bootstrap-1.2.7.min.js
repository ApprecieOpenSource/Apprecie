(function(k){var p={};try{if(!k&&module&&module.exports){k=require("jquery");var q=require("jsdom").jsdom;k=k(q().parentWindow)}}catch(g){}(function(g,b){var c={};b.forbiddenSequences="0123456789 abcdefghijklmnopqrstuvwxyz qwertyuiop asdfghjkl zxcvbnm !@#$%^&*()_+".split(" ");c.wordNotEmail=function(b,a,d){return a.match(/^([\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+\.)*[\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+@((((([a-z0-9]{1}[a-z0-9\-]{0,62}[a-z0-9]{1})|[a-z])\.)+[a-z]{2,6})|(\d{1,3}\.){3}\d{1,3}(\:\d{1,5})?)$/i)?
d:0};c.wordLength=function(b,a,d){a=a.length;var h=Math.pow(a,b.rules.raisePower);a<b.common.minChar&&(h+=d);return h};c.wordSimilarToUsername=function(b,a,d){return(b=g(b.common.usernameField).val())&&a.toLowerCase().match(b.replace(/[\-\[\]\/\{\}\(\)\*\+\=\?\:\.\\\^\$\|\!\,]/g,"\\$&").toLowerCase())?d:0};c.wordTwoCharacterClasses=function(b,a,d){return a.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)||a.match(/([a-zA-Z])/)&&a.match(/([0-9])/)||a.match(/(.[!,@,#,$,%,\^,&,*,?,_,~])/)&&a.match(/[a-zA-Z0-9_]/)?
d:0};c.wordRepetitions=function(b,a,d){return a.match(/(.)\1\1/)?d:0};c.wordSequences=function(c,a,d){var h=!1,e;return 2<a.length&&(g.each(b.forbiddenSequences,function(d,b){if(!h){var c=[b,b.split("").reverse().join("")];g.each(c,function(d,b){for(e=0;e<a.length-2;e+=1)-1<b.indexOf(a.toLowerCase().substring(e,e+3))&&(h=!0)})}}),h)?d:0};c.wordLowercase=function(b,a,d){return a.match(/[a-z]/)&&d};c.wordUppercase=function(b,a,d){return a.match(/[A-Z]/)&&d};c.wordOneNumber=function(b,a,d){return a.match(/\d+/)&&
d};c.wordThreeNumbers=function(b,a,d){return a.match(/(.*[0-9].*[0-9].*[0-9])/)&&d};c.wordOneSpecialChar=function(b,a,d){return a.match(/[!,@,#,$,%,\^,&,*,?,_,~]/)&&d};c.wordTwoSpecialChar=function(b,a,d){return a.match(/(.*[!,@,#,$,%,\^,&,*,?,_,~].*[!,@,#,$,%,\^,&,*,?,_,~])/)&&d};c.wordUpperLowerCombo=function(b,a,d){return a.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&d};c.wordLetterNumberCombo=function(b,a,d){return a.match(/([a-zA-Z])/)&&a.match(/([0-9])/)&&d};c.wordLetterNumberCharCombo=function(b,
a,d){return a.match(/([a-zA-Z0-9].*[!,@,#,$,%,\^,&,*,?,_,~])|([!,@,#,$,%,\^,&,*,?,_,~].*[a-zA-Z0-9])/)&&d};b.validation=c;b.executeRules=function(c,a){var d=0;g.each(c.rules.activated,function(h,e){if(e){var f=c.rules.scores[h],m=b.validation[h];g.isFunction(m)||(m=c.rules.extra[h]);g.isFunction(m)&&((f=m(c,a,f))&&(d+=f),0>f||!g.isNumeric(f)&&!f)&&(f=c.ui.spanError(c,h),0<f.length&&c.instances.errors.push(f))}});return d}})(k,p);try{module&&module.exports&&(module.exports=p)}catch(g){}var c={common:{}};
c.common.minChar=6;c.common.usernameField="#username";c.common.userInputs=[];c.common.onLoad=void 0;c.common.onKeyUp=void 0;c.common.zxcvbn=!1;c.common.zxcvbnTerms=[];c.common.debug=!1;c.rules={};c.rules.extra={};c.rules.scores={wordNotEmail:-100,wordLength:-50,wordSimilarToUsername:-100,wordSequences:-20,wordTwoCharacterClasses:2,wordRepetitions:-25,wordLowercase:1,wordUppercase:3,wordOneNumber:3,wordThreeNumbers:5,wordOneSpecialChar:3,wordTwoSpecialChar:5,wordUpperLowerCombo:2,wordLetterNumberCombo:2,
wordLetterNumberCharCombo:2};c.rules.activated={wordNotEmail:!0,wordLength:!0,wordSimilarToUsername:!0,wordSequences:!0,wordTwoCharacterClasses:!1,wordRepetitions:!1,wordLowercase:!0,wordUppercase:!0,wordOneNumber:!0,wordThreeNumbers:!0,wordOneSpecialChar:!0,wordTwoSpecialChar:!0,wordUpperLowerCombo:!0,wordLetterNumberCombo:!0,wordLetterNumberCharCombo:!0};c.rules.raisePower=1.4;c.ui={};c.ui.bootstrap2=!1;c.ui.showProgressBar=!0;c.ui.showPopover=!1;c.ui.showStatus=!1;c.ui.spanError=function(c,b){var l=
c.ui.errorMessages[b];return l?'<span style="color: #d52929">'+l+"</span>":""};c.ui.popoverError=function(c){var b="<div>Errors:<ul class='error-list' style='margin-bottom: 0;'>";k.each(c,function(c,g){b+="<li>"+g+"</li>"});return b+="</ul></div>"};c.ui.errorMessages={wordLength:"Your password is too short",wordNotEmail:"Do not use your email as your password",wordSimilarToUsername:"Your password cannot contain your username",wordTwoCharacterClasses:"Use different character classes",wordRepetitions:"Too many repetitions",
wordSequences:"Your password contains sequences"};c.ui.verdicts=["Weak","Normal","Medium","Strong","Very Strong"];c.ui.showVerdicts=!0;c.ui.showVerdictsInsideProgressBar=!1;c.ui.useVerdictCssClass=!1;c.ui.showErrors=!1;c.ui.container=void 0;c.ui.viewports={progress:void 0,verdict:void 0,errors:void 0};c.ui.scores=[14,26,38,50];var n={};(function(c,b){var l=["danger","warning","success"],k=["error","warning","success"];b.getContainer=function(a,d){var b;(b=c(a.ui.container))&&1===b.length||(b=d.parent());
return b};b.findElement=function(a,d,b){return d?a.find(d).find(b):a.find(b)};b.getUIElements=function(a,d){var h,e;if(a.instances.viewports)return a.instances.viewports;h=b.getContainer(a,d);e={};e.$progressbar=b.findElement(h,a.ui.viewports.progress,"div.progress");a.ui.showVerdictsInsideProgressBar&&(e.$verdict=e.$progressbar.find("span.password-verdict"));a.ui.showPopover||(a.ui.showVerdictsInsideProgressBar||(e.$verdict=b.findElement(h,a.ui.viewports.verdict,"span.password-verdict")),e.$errors=
b.findElement(h,a.ui.viewports.errors,"ul.error-list"));return a.instances.viewports=e};b.initProgressBar=function(a,d){var h=b.getContainer(a,d),e="<div class='progress'><div class='";a.ui.bootstrap2||(e+="progress-");e+="bar'>";a.ui.showVerdictsInsideProgressBar&&(e+="<span class='password-verdict'></span>");e+="</div></div>";a.ui.viewports.progress?h.find(a.ui.viewports.progress).append(e):c(e).insertAfter(d)};b.initHelper=function(a,d,h,e){a=b.getContainer(a,d);e?a.find(e).append(h):c(h).insertAfter(d)};
b.initVerdict=function(a,d){b.initHelper(a,d,"<span class='password-verdict'></span>",a.ui.viewports.verdict)};b.initErrorList=function(a,d){b.initHelper(a,d,"<ul class='error-list'></ul>",a.ui.viewports.errors)};b.initPopover=function(a,d){d.popover("destroy");d.popover({html:!0,placement:"bottom",trigger:"manual",content:" "})};b.initUI=function(a,d){a.ui.showPopover?b.initPopover(a,d):(a.ui.showErrors&&b.initErrorList(a,d),a.ui.showVerdicts&&!a.ui.showVerdictsInsideProgressBar&&b.initVerdict(a,
d));a.ui.showProgressBar&&b.initProgressBar(a,d)};b.possibleProgressBarClasses=["danger","warning","success"];b.updateProgressBar=function(a,d,h,e){d=b.getUIElements(a,d).$progressbar;var f=d.find(".progress-bar"),m="progress-";a.ui.bootstrap2&&(f=d.find(".bar"),m="");c.each(b.possibleProgressBarClasses,function(a,d){f.removeClass(m+"bar-"+d)});f.addClass(m+"bar-"+l[h]);f.css("width",e+"%")};b.updateVerdict=function(a,d,h,e){a=b.getUIElements(a,d).$verdict;a.removeClass(l.join(" "));-1<h&&a.addClass(l[h]);
a.html(e)};b.updateErrors=function(a,d){var h=b.getUIElements(a,d).$errors,e="";c.each(a.instances.errors,function(a,d){e+="<li>"+d+"</li>"});h.html(e)};b.updatePopover=function(a,d,b){var e=d.data("bs.popover"),c="",g=!0;a.ui.showVerdicts&&!a.ui.showVerdictsInsideProgressBar&&0<b.length&&(c="<h5><span class='password-verdict'>"+b+"</span></h5>",g=!1);a.ui.showErrors&&(0<a.instances.errors.length&&(g=!1),c+=a.ui.popoverError(a.instances.errors));g?d.popover("hide"):(a.ui.bootstrap2&&(e=d.data("popover")),
e.$arrow&&0<e.$arrow.parents("body").length?d.find("+ .popover .popover-content").html(c):(e.options.content=c,d.popover("show")))};b.updateFieldStatus=function(a,d,b){var e=d.parents(a.ui.bootstrap2?".control-group":".form-group").first();c.each(k,function(d,b){a.ui.bootstrap2||(b="has-"+b);e.removeClass(b)});b=k[b];a.ui.bootstrap2||(b="has-"+b);e.addClass(b)};b.percentage=function(a,d){var b=Math.floor(100*a/d),b=15>b?15:b;return 100<b?100:b};b.getVerdictAndCssClass=function(a,d){var b,e,c;0>=d?
(b=0,c=-1,e=a.ui.verdicts[0]):d<a.ui.scores[0]?(c=b=0,e=a.ui.verdicts[0]):d<a.ui.scores[1]?(b=0,c=1,e=a.ui.verdicts[1]):d<a.ui.scores[2]?(b=1,c=2,e=a.ui.verdicts[2]):d<a.ui.scores[3]?(b=1,c=3,e=a.ui.verdicts[3]):(b=2,c=4,e=a.ui.verdicts[4]);return[e,b,c]};b.updateUI=function(a,d,c){var e,f,g;e=b.getVerdictAndCssClass(a,c);f=0===c?"":e[0];e=e[1];g=a.ui.useVerdictCssClass?e:-1;a.ui.showProgressBar&&(c=b.percentage(c,a.ui.scores[3]),b.updateProgressBar(a,d,e,c),a.ui.showVerdictsInsideProgressBar&&b.updateVerdict(a,
d,g,f));a.ui.showStatus&&b.updateFieldStatus(a,d,e);a.ui.showPopover?b.updatePopover(a,d,f):(a.ui.showVerdicts&&!a.ui.showVerdictsInsideProgressBar&&b.updateVerdict(a,d,g,f),a.ui.showErrors&&b.updateErrors(a,d))}})(k,n);(function(g,b){var l,k;l=function(a){var b=g(a.target),c=b.data("pwstrength-bootstrap"),e=b.val(),f,k;if(void 0!==c&&(c.instances.errors=[],0===e.length?e=0:c.common.zxcvbn?(f=[],g.each(c.common.userInputs.concat([c.common.usernameField]),function(a,b){var d=g(b).val();d&&f.push(d)}),
f=f.concat(c.common.zxcvbnTerms),e=zxcvbn(e,f).entropy):e=p.executeRules(c,e),n.updateUI(c,b,e),b=n.getVerdictAndCssClass(c,e),k=b[2],b=b[0],c.common.debug&&console.log(e+" - "+b),g.isFunction(c.common.onKeyUp)))c.common.onKeyUp(a,{score:e,verdictText:b,verdictLevel:k})};b.init=function(a){this.each(function(b,h){var e=g.extend(!0,{},c),e=g.extend(!0,e,a),f=g(h);e.instances={};f.data("pwstrength-bootstrap",e);f.on("keyup",l);f.on("change",l);f.on("onpaste",l);n.initUI(e,f);g.trim(f.val())&&f.trigger("keyup");
if(g.isFunction(e.common.onLoad))e.common.onLoad()});return this};b.destroy=function(){this.each(function(a,b){var c=g(b),e=c.data("pwstrength-bootstrap"),e=n.getUIElements(e,c);e.$progressbar.remove();e.$verdict.remove();e.$errors.remove();c.removeData("pwstrength-bootstrap")})};b.forceUpdate=function(){this.each(function(a,b){l({target:b})})};b.addRule=function(a,b,c,e){this.each(function(f,k){var l=g(k).data("pwstrength-bootstrap");l.rules.activated[a]=e;l.rules.scores[a]=c;l.rules.extra[a]=b})};
k=function(a,b,c){this.each(function(e,f){g(f).data("pwstrength-bootstrap").rules[b][a]=c})};b.changeScore=function(a,b){k.call(this,a,"scores",b)};b.ruleActive=function(a,b){k.call(this,a,"activated",b)};g.fn.pwstrength=function(a){var c;b[a]?c=b[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof a&&a?g.error("Method "+a+" does not exist on jQuery.pwstrength-bootstrap"):c=b.init.apply(this,arguments);return c}})(k,{})})(jQuery);
